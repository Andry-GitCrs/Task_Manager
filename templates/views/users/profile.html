{% extends "views/users/base.html" %}
{% block title %}Sticky Wall{% endblock %}
{% block profile %}
    active-dash-link
{% endblock %}

{% block content %}
<div class="container-fluid py-5">
    <div class="row">
        <div class="col-md-6 col-sm-12 mb-4">
            <div class="card shadow-sm h-100">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-3">
                  <h5 class="card-title mb-0">Daily Finished Subtasks</h5>
                  <button class="btn btn-sm btn-outline-primary" id="refreshChart">Refresh</button>
                </div>
                <div style="height: 300px;">
                  <canvas id="subtaskLineChart"></canvas>
                </div>
                <div id="chartStatus" class="text-muted small mt-2">Loading chart...</div>
              </div>
            </div>
          </div>
        <form id="update-form" class="col-md-6 col-sm-12">
            <h4>
                <i class="text-success fas fa-pen"></i>
                Edit credentials
            </h4>
            <div class="mb-3">
                <label for="email" class="form-label">
                    <i class="fas fa-envelope text-secondary" ></i> 
                    Email
                </label>
                <input name="current-email" type="email" value="{{ email }}" class="form-control" id="email" placeholder="example@mail.com" autocomplete="email" required>
            </div>
        
            <div class="mb-3">
                <label for="current_password" class="form-label">
                    <i class="fas fa-key text-success"></i> 
                    Current password
                </label>
                <input name="current_password" type="password" class="form-control" id="current_password" autocomplete="current_password" required>
            </div>
        
            <div class="mb-3">
              <label for="new_password" class="form-label">New Password</label>
              <input name="new_password" type="password" class="form-control" id="new_password" autocomplete="new_password" required>
            </div>
        
            <div class="mb-3">
                <label for="confirm_password" class="form-label">
                    Confirm Password
                </label>
                <input name="confirm_password" type="password" class="form-control" id="confirm_password" autocomplete="confirm_password" required>
            </div>
        
            <div class="text-center">
                <button type="submit" class="btn btn-success w-50">Validate</button>
            </div>
        </form>
    </div>
    <div class="row py-1 px-3 border my-2 rounded-3">
        <h4 class="m-0 text-center">All task activities goes here</h4>
    </div>
</div>
{% endblock %}
{% block script %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='js/users/profile.js') }}"></script>
{% endblock %}